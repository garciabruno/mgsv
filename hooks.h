#pragma once

uint64_t HookSetPos(uint64_t a1, int32_t a2);

inline unsigned char* FindSetPosCode(unsigned char* start, unsigned long length) {
#pragma section(".text",read,execute)
	__declspec(align(16))
		__declspec(allocate(".text"))
		static char scan[] = "\x48\x89\xC8\x48\x83\xEA\x2B\x48\x01\xC2\xEB\x0C\x90\x90\x90\x90\x48\xFF\xC0\x48\x39\xD0\x73\x53\x66\x81\x38\x48\x89\x75\xF1\x66\x81\x78\x03\x48\x89\x75\xE9\x66\x81\x78\x07\x48\x89\x75\xE1\x66\x81\x78\x0B\x57\x48\x75\xD9\x80\x78\x0D\x83\x75\xD3\x66\x81\x78\x10\x0F\x29\x75\xCB\x66\x81\x78\x17\x0F\x29\x75\xC3\x66\x81\x78\x1E\x44\x0F\x75\xBB\x80\x78\x20\x29\x75\xB5\x66\x81\x78\x26\x48\x89\x75\xAD\x80\x78\x29\x89\x75\xA7\xEB\x02\x31\xC0\xC3";
	return ((unsigned char* (*)(unsigned char*, unsigned long)) & scan)((unsigned char*)start, length);
}

